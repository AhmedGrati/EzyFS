#!/bin/bash
# shellcheck disable=SC2207
echo "

███████╗███████╗██╗   ██╗███████╗███████╗                             
██╔════╝╚══███╔╝╚██╗ ██╔╝██╔════╝██╔════╝                             
█████╗    ███╔╝  ╚████╔╝ █████╗  ███████╗                             
██╔══╝   ███╔╝    ╚██╔╝  ██╔══╝  ╚════██║                             
███████╗███████╗   ██║   ██║     ███████║                             
╚══════╝╚══════╝   ╚═╝   ╚═╝     ╚══════╝                             
                                                                      
██╗███╗   ██╗███████╗████████╗ █████╗ ██╗     ██╗     ███████╗██████╗ 
██║████╗  ██║██╔════╝╚══██╔══╝██╔══██╗██║     ██║     ██╔════╝██╔══██╗
██║██╔██╗ ██║███████╗   ██║   ███████║██║     ██║     █████╗  ██████╔╝
██║██║╚██╗██║╚════██║   ██║   ██╔══██║██║     ██║     ██╔══╝  ██╔══██╗
██║██║ ╚████║███████║   ██║   ██║  ██║███████╗███████╗███████╗██║  ██║
╚═╝╚═╝  ╚═══╝╚══════╝   ╚═╝   ╚═╝  ╚═╝╚══════╝╚══════╝╚══════╝╚═╝  ╚═╝
                                                          
"
PROJECTS=$(jq -r '.projects[].root ' ./nest-cli.json)

echo "Service and Library build system started..."

for VAR in ${PROJECTS} ; do
  echo "Building for" "${VAR}"
  nest build "${VAR}"
done

echo "Service and Library build system completed"